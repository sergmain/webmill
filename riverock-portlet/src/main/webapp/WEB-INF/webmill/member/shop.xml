<?xml version="1.0" encoding="windows-1251"?>
<!--
/*
 * org.riverock.portlet - Portlet Library
 * 
 * Copyright (C) 2004, Riverock Software, All Rights Reserved.
 * 
 * Riverock - The Open-source Java Development Community
 * http://www.riverock.org
 * 
 * 
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation; either
 * version 2 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA
 *
 */
-->
<MemberArea xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\sandbox\riverock\riverock-portlet\src-schema\xsd\riverock-portlet-member.xsd" xmlns:portlet="http://java.sun.com/xml/ns/portlet/portlet-app_1_0.xsd">
	<Module name="shop.list" authApplication="PRICE" authModule="B2X.SHOP_LIST" isDelete="1">
		<Content action="index">
			<security-role-ref>
				<role-name>webmill.shop</role-name>
			</security-role-ref>
			<Title isUseProperties="false">
				<StringData>Список магазинов</StringData>
			</Title>
			<QueryArea>
				<Restrict type="site"/>
				<PrimaryKey>ID_SHOP</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_SHOP" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="ID_SITE" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="NAME_SHOP" dbType="VARCHAR" length="50" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Name of forum</StringData>
					</NameColumn>
				</Fields>
				<Table table="WM_PRICE_SHOP_LIST" ref="a"/>
			</QueryArea>
			<TargetAreaName isUseProperties="false">
				<StringData>Type of action</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0">
					<StringData>Index page</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="lookup" module="shop.item_list">
				<TargetModuleName isUseProperties="0">
					<StringData>Наименования</StringData>
				</TargetModuleName>
				<TargetModuleLookup type="index"/>
				<TargetModuleLookup type="insert"/>
				<TargetModuleLookup type="change"/>
				<TargetModuleLookup type="delete"/>
			</TargetModule>
		</Content>
	</Module>
	<Module name="shop.item_list" type="lookup" lookupPK="ID_SHOP" authApplication="PRICE" authModule="B2X.SHOP_LIST" isDelete="1">
		<SelfLookup>
			<CurrentField refTable="a" name="ID" dbType="NUMBER"/>
			<TopField refTable="a" name="ID_MAIN" dbType="NUMBER"/>
		</SelfLookup>
		<Content action="index">
			<security-role-ref>
				<role-name>webmill.shop</role-name>
			</security-role-ref>
			<Title isUseProperties="false">
				<StringData>Список наименований</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_ITEM</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_ITEM" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="ID" dbType="NUMBER" length="20" jspType="int_text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Код наименования</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ITEM" dbType="VARCHAR" length="250" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Name of forum</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="PRICE" dbType="NUMBER" length="50" jspType="float_text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Цена</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="CURRENCY" dbType="VARCHAR" length="10" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Валюта</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_GROUP" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Это группа</StringData>
					</NameColumn>
				</Fields>
				<Table table="WM_PRICE_LIST" ref="a"/>
				<Where>absolete=0</Where>
			</QueryArea>
			<TargetAreaName isUseProperties="false">
				<StringData>Type of action</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0">
					<StringData>Index page</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="insert">
				<TargetModuleName isUseProperties="0">
					<StringData>Добавить новое наименование</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="change">
				<TargetModuleName isUseProperties="0">
					<StringData>Изменить</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="delete">
				<TargetModuleName isUseProperties="0">
					<StringData>Удалить</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="lookup" module="shop.item_desc">
				<TargetModuleName isUseProperties="0">
					<StringData>Описание</StringData>
				</TargetModuleName>
				<TargetModuleLookup type="index"/>
				<TargetModuleLookup type="insert"/>
				<TargetModuleLookup type="change"/>
				<TargetModuleLookup type="delete"/>
			</TargetModule>
			<TargetModule action="self">
				<TargetModuleName isUseProperties="0">
					<StringData>На уровень ниже</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="insert">
			<security-role-ref>
				<role-name>webmill.shop</role-name>
			</security-role-ref>
			<Title isUseProperties="false">
				<StringData>Наименования</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_ITEM</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_ITEM" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="ID" dbType="NUMBER" length="20" jspType="int_text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Код наименования</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ITEM" dbType="VARCHAR" length="250" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Наименование</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="PRICE" dbType="NUMBER" length="50" jspType="float_text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Цена</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="CURRENCY" dbType="VARCHAR" length="10" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Валюта</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_GROUP" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Это группа</StringData>
					</NameColumn>
				</Fields>
				<Table table="WM_PRICE_LIST" ref="a"/>
			</QueryArea>
			<TargetAreaName isUseProperties="false">
				<StringData>Type of action</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0">
					<StringData>Index page</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="change">
			<security-role-ref>
				<role-name>webmill.shop</role-name>
			</security-role-ref>
			<Title isUseProperties="false">
				<StringData>Изменить наименование</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_ITEM</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_ITEM" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="ID" dbType="NUMBER" length="20" jspType="int_text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Код наименования</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ITEM" dbType="VARCHAR" length="250" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Наименование</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="PRICE" dbType="NUMBER" length="50" jspType="float_text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Цена</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="CURRENCY" dbType="VARCHAR" length="10" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Код валюты</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_GROUP" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Это группа</StringData>
					</NameColumn>
				</Fields>
				<Table table="WM_PRICE_LIST" ref="a"/>
			</QueryArea>
			<TargetAreaName isUseProperties="false">
				<StringData>Type of action</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0">
					<StringData>Index page</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="delete">
			<security-role-ref>
				<role-name>webmill.shop</role-name>
			</security-role-ref>
			<Title isUseProperties="false">
				<StringData>Удалить наименование</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_ITEM</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_ITEM" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="ID" dbType="NUMBER" length="20" jspType="int_text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Код наименования</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ITEM" dbType="VARCHAR" length="250" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Наименование</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="PRICE" dbType="NUMBER" length="50" jspType="float_text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Цена</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="CURRENCY" dbType="VARCHAR" length="10" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Код валюты</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_GROUP" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Это группа</StringData>
					</NameColumn>
				</Fields>
				<Table table="WM_PRICE_LIST" ref="a"/>
			</QueryArea>
			<TargetAreaName isUseProperties="false">
				<StringData>Type of action</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0">
					<StringData>Index page</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
	</Module>
	<Module name="shop.item_desc" type="lookup" lookupPK="ID_ITEM" authApplication="PRICE" authModule="B2X.ITEM_DESC" isDelete="1">
		<Content action="index">
			<security-role-ref>
				<role-name>webmill.shop</role-name>
			</security-role-ref>
			<Title isUseProperties="false">
				<StringData>Описание</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_PRICE_ITEM_DESCRIPTION</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_PRICE_ITEM_DESCRIPTION" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="TEXT" dbType="VARCHAR" length="2000" jspType="text" isShow="1">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Описание</StringData>
					</NameColumn>
				</Fields>
				<Table table="PRICE_ITEM_DESCRIPTION" ref="a"/>
			</QueryArea>
			<TargetAreaName isUseProperties="false">
				<StringData>Type of action</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0">
					<StringData>Index page</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="insert">
				<TargetModuleName isUseProperties="0">
					<StringData>Добавить</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="change">
				<TargetModuleName isUseProperties="0">
					<StringData>Изменить</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="delete">
				<TargetModuleName isUseProperties="0">
					<StringData>Удалить</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="insert">
			<security-role-ref>
				<role-name>webmill.shop</role-name>
			</security-role-ref>
			<Title isUseProperties="false">
				<StringData>Insert new </StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_PRICE_ITEM_DESCRIPTION</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_PRICE_ITEM_DESCRIPTION" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="TEXT" dbType="VARCHAR" length="2000" jspType="text_area" isShow="1">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Описание</StringData>
					</NameColumn>
				</Fields>
				<Table table="PRICE_ITEM_DESCRIPTION" ref="a"/>
			</QueryArea>
			<TargetAreaName isUseProperties="false">
				<StringData>Type of action</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0">
					<StringData>Index page</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="change">
			<security-role-ref>
				<role-name>webmill.shop</role-name>
			</security-role-ref>
			<Title isUseProperties="false">
				<StringData>Change </StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_PRICE_ITEM_DESCRIPTION</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_PRICE_ITEM_DESCRIPTION" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="TEXT" dbType="VARCHAR" length="2000" jspType="text" isShow="1">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Описание</StringData>
					</NameColumn>
				</Fields>
				<Table table="PRICE_ITEM_DESCRIPTION" ref="a"/>
			</QueryArea>
			<TargetAreaName isUseProperties="false">
				<StringData>Type of action</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0">
					<StringData>Index page</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="delete">
			<security-role-ref>
				<role-name>webmill.shop</role-name>
			</security-role-ref>
			<Title isUseProperties="false">
				<StringData>Delete</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_PRICE_ITEM_DESCRIPTION</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_PRICE_ITEM_DESCRIPTION" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="TEXT" dbType="VARCHAR" length="2000" jspType="text" isShow="1">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Описание</StringData>
					</NameColumn>
				</Fields>
				<Table table="PRICE_ITEM_DESCRIPTION" ref="a"/>
			</QueryArea>
			<TargetAreaName isUseProperties="false">
				<StringData>Type of action</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0">
					<StringData>Index page</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
	</Module>
</MemberArea>
