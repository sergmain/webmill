$Id$

<!--  part 1   -->



Краткое описание "ВебМилл"



Программа "ВебМилл" предназначена для ускоренной разработки веб-сайтов на 

основе готовых портлетов с использованием технологий XML/XSLT



Концепция программы состоит в том, что кождую веб страницу можно представить 

в виде набора портлетов, расположение которых определяется шаблоном 

веб-страницы.



В версии 2.0 реализовано около 15 портлетов - начиная от простейших 

(статья, новость) и заканчивая такими сложными, как он-лайн магазин, форум.



В "ВебМилле" реализовано полное разделение представления данных от их 

хранения. Для решения этой задачи используются XML/XSLT технологии.

Первоначальное представление данных описано в шаблонах веб-страниц.

При разборе шаблона вызванной страницы, определяется какие портлеты

и в каком порядке нужно обрабатывать (вызывать). После вызова портлета 

сервер получает данные представленные в формате XML. После завершения 

разбора и обработки шаблона веб-страницы получается веб-страница, 

представленная в формате XML. Затем эти данные трансформируются с 

использованием XSL шаблона и в результате трансформации получается 

готовая HTML страница.



Применение технологии создания HTML страниц методом трансформации 

данных дает полную свободу дизайнеру для представления таких сложных 

портлетов, как он-лайн магазин, новостная лента без необходимости 

изучения каких-либо языков программирования.





Для работы с контентом веб-сервера и управляющими данными 

( различные настройки, параметры веб-сайтов) используется ролевой принцип

разграничения доступа к информации. Каждый сотрудник имеет доступ только 

к той информации, доступ к которой у него есть - дизайнер может менять 

информацию ответственную за отображение веб-страниц (шаблоны веб-страниц, 

XSL шаблоны, CSS данные и т.д.) Ответственный за новости заносит только 

новости. Т.к. доступ разграничивается на основе ролей имеется возможность делегирования 

нескольких ролей одному сотруднику. Например ответственный за новостную ленту

может заносить информацию и в информационные статьи.



Сервер "ВебМилл" позволяет на основе одной схемы в базе данных вести 

неограниченное количество веб сайтов с разграничением доступа к каждому 

сайту по отдельности.



Одной из отличительных черт "ВебМилла" является прозрачная поддержка 

мультиязычных сайтов. Для каждого из языков, который используется на сайте, 

может быть написан свой шаблон веб-страницы, XSL шаблон, новостные ленты,

статьи и др.







<!--  part 2  -->





Портлеты



Портлет "новостная лента"



Портлет "новостная лента" позволяет организовывать группы новостей, управлять 

новостями в этих группах (добавлять, изменять, удалять). Имеется возможность 

ограничения количества показываемых на веб-странице новостей, т.е. показывать 

последние 10 или 15 новостей. Данный портлет может быть трансформирован 

через XSLT.



Портлет "FAQ" (Вопросы и ответы)



Позволяет вести список часто задаваемых вопросов и ответов на них. 

Данный портлет может быть трансформирован с использованием XSLT.





Портлет статья



Под статьей подразумевается любой текстовый блок. При этом текст статьи 

может представлять из себя не просто текст, а еще и текст формате XML.

Благодаря этому информация в статье  может быть дополнительно преобразована

с помощью XSLT.



Портлет "Форум"



Портлет "Форум" предназначен для организации дискуссий на веб-сайте.

В настоящее время поддерживается только HTML версия форума, без XSL

трансформации.



Портлет "Он-лайн" магазин

Портлет"Он-лайн магазин" позволяет организовывать на сайте 

неограниченное количество магазинов с разной функциональной направленностью - 

магазин, каталог, прайс-лист. Полностью поддерживается XSL трансформация.









Организация и функциональные возможности портлета "он-лайн магазин"



Портлет "магазин" позволяет организовывать на сайте он-лайновые магазины, 

каталоги товаров и прайс0листы.



Под он-лайн магазином подразумевается система продажи товаров с возможностью 

оформления заказов и отправки заказов в магазин.

Каталог - представление на сайте информации о товарах в расширенном виде - 

картинка, описание, цена. Оформление заказа обычно отсутствует.



Прайс-лист - информация о товарах представлена в табличном виде и как правило

содержит только наименование и цену.



Портлет "Магазин" поддерживает мультивалютность, как при отображении информации, 

так и при загрузке. Под мультивалютностью подразумевается возможность хранения 

цены товара в различных валютах, конвертацию цен товаров в целевую валюту, 

импорт мультивалютных прайс-листов.



Управление валютами и курсами валют пользователи осуществляют через 

веб-интерфейс. Пользователь может самостоятельно вести курсы выбранных им валют

или "привязать" свои валюты к стандартным валютам. Курсы стандартных валют

пополняются на основе данных которые берутся с сайта ЦБ РФ (www.cbr.ru)





<!--  part 3  -->





Администратор "Магазина"  может предоставлять скидки различнымм пользователям, 

скидки от разового объема, накопительные скидки. В настоящее время скидка 

расчитывается путем поглощения меньшей скидки большей, т.е. если скидка

пользователя равна 5%, а скидка от объема 3%, то результирующая скидка 

будет 5%.



Покупатели магазина могут быть занесены как администратором, так и 

зарегистрироваться сами, если процедура регистрации разрешена администратором.



Портлет "Спец предложения"



Отдельной реализацией портлета "Магазин" является портлет "Спец предложения".

Данный портлет предназначен для продвижения отдельных товаров имеющихся в 

магазине. "Специальное преложение" можно разместить как на первой странице

сайта, так и на отдельных, указав соответствующий вызов портлета в шаблоне 

веб-страницы.





Система авторизации пользователей и разграничения доступа к информации.



При разработке системы авторизации в основу была положена ролевая модель 

доступа, с разграничением доступа по уровням. В настоящее время система

разграничения прав по уровням имеет три уровня доступа. Каждый пользователь 

помимо определенных ролей имеет еще и разрешеные уровни доступа к информации.

Простейший пример использования разных уровней доступа применяется для 

администрирования разных сайтов одним пользователем. Например сайт 

www.site-one.ru можно объеденить в группу доступа 2-го уровня с 

сайтом www.site-two.ru и дать права на эту группу 2-го уровня дизайнеру. Как

результат дизайнер используя свой логин и пароль имеет возможность работать над

дизайном обоих сайтов.



Система ролевого доступа к информации поддерживает разграничение производимых 

операций  с данными и подразделяет их на чтение, добавление, изменение и 

удаление.



Для выполнения различных администраторских задач в системе предусмотрен 4-ый

уровень доступа - root уровень. Пользователь имеющий данный уровень доступа 

может выполнять любые операции независимо от ролей которые ему назначены,

на всех сайтах поддерживаемых сервером "ВебМилл".

Некоторые операции по администированию системы авторизации -  добавление 

новых ролей, добавление новых модулей и приложений может осуществлять 

только пользователь с уровнем "root".





<!--  part 4  -->





Шаблоны веб-страниц и XSL трансформация.



Для формирования веб-страниц используется шаблонный метод. Каждый шаблон 

представляет собой данные в XML формате. Количество шаблонов у одного сайта не

ограничено. Текущая версия реализации шаблонов исходит из того факта, что во 

время навигации по сайту ( перехода с одной страницы на другую) происходит 

смена только одного функционального портлета. Остальная часть веб-страницы 

является статическим окружением. Статическое окружение формируется на основе 

информации содержащейся в шаблоне, динамическое содержание формируется в 

зависимости от типа вызываемого портлета. Динамическое содержание может быть 

новостной лентой, магазином статьей и др. Структура шаблона позволяет включать

информацию из разных источников информации - из статических файлов 

( HTML, TXT ), из динамических источников - JSP, CGI, perl и др.

Также можно в шаблон включать вызов стандартных портлетов. Во время обработки 

шаблона веб-страницы сервер решает какие данные должны быть преобразованы с

использованием XSL трансформации, а какие просто вставлены на прямую в конечную

веб-страницу.

