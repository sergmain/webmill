$Id: history.txt 155 2005-05-25 08:32:29Z serg_main $

История разработки сервера "MillEngine"

5.0.0
- all projects are moved to riverock projects. http://sf.net/projects/riverock

4.0.2 (22.03.2004)
- release of v4.0.2


2.3.1.5
- 'member' - баг редактирования меню других сайтов, шаблоны не выбирались.
- добавлена система отслеживания изменеия информации в базе и переинициализации 
кеширующих классов.
- проведен аудит исходных текстов и где была выявлена необходимость, добавлена 
синхронизация кода.
- для отладки многопоточных обращений к WebMill, в отладочную инормацию 
добавлена поддержка NDC (nested diagnostic contexts) 
http://jakarta.apache.org/log4j/docs/lf5/overview.html

2.3.1.4
- синхронизирован вывод отладочной информации в файлы
- 'context navigator' - баг обработки сервлета ctx. Проявлялся при одновременном запросе страниц
- 'application server' - проведена интергация с системой авторизации WebMill'a
- 'member' - баг сброса кеша при обновлении XSL шаблона
- Портлет 'каталог товаров'. При окончании обработки заказа и отсылке его
клиенту, заказ закрывается.

2.3.1.3
- 'member' исправлен баг обработки полей с типом yes_1_no_n 
- добавлена синхронизация в класс протоколирования доступа
- исправлен баг InvocationTargetException создания кеш-объекта, 
при использовании класса коннекта не напрямую наследующего 
класс mill.db.DBconnect
- исправлен баг NPE при первом обращении к WebMill, связанный с неправильной
обработкой локалей

2.3.1.2
- добавлена поддержка Oracle8.0.x
- произведен backport на jdk1.3, включая демо версию
- 'member' - добавлен вывод обозначения обязательных полей 
- 'member' - исправлен баг возникающий при попытке смены шаблона
- 'member' - исправлены баги возникшие при портировании WebMill с БД Oracle
на другие базы даных (HypersonicSQL, MySql и MSSQL) и не выявленные на этапе 
тестирования
- исправлен bug NPE при обращении к серверу приложений с пустым запросом
- добавлено сохранение в cookie языка последней посещеной страницы. 
Так же добавлено автоматическое определение предпочтительного языка на 
основе информации в заголовке HTTP запроса (accept-language)
- в файл конфигурации добавлена возможность указания TimeZone или 
определения своей TimeZone. TimeZone по умолчанию устанавливается в значение
из конфиг-файла
- протоколирование доступа к сайту - с какого IP, когда, URI, parameters, 
refer, user-agent


2.3.1.1
- полная поддержка многоязычных сайтов. Теперь каждый сайт может иметь
свой список поддерживаемых языков
- из дистрибутива исключена библиотека com.orelly.servlet. Всесто нее 
теперь используется своя собственная библиотека основанная на 
MayBeUpload библиотеке
- импорт и экспорт сайтов.
- в файл конфигурации добавлены параметры для указания пользовательских
директориев с описателями портлетов, мембер раздела и сервера приложений

Нумерация релизов
Начиная с версии 2.1.1.1 нумерация релизов основана на сделующих правилах:
первая цифра -    переход на новую версию без поддержки предыдущих версий
вторая цифра -    изменения в движке, повлекшие необходимость изменения
                  текущей схемы базы данных. При этом данные изменения БД
                  необходимо произвести в ручную администратором базы данных
третья цифра -    изменения в движке, повлекшие необходимость изменения
                  текущей схемы базы данных. Данные изменения БД 
                  будут произведены в автоматическом режиме модулем изменения 
                  структуры
четвертая цифра - Изменения кода движка не требующие измения структуры БД.
                  Изменения затрагивают только java классы. Переход на новый 
                  релиз осуществляется простым копированием jar и других
                  сервис файлов.


2002г. версия 2.1.1.1
- сервер полностью портирован на HyperSonicDB. 
- исправлены баги выявленные в версии 2.0. В основном касается портлета
'Каталог товаров'
- для корректной поддержки национальных языков (русский, японский и др.) все
jsp файлы преобразованы в сервлеты.
- протестирована и подтверждена работоспособновть сервера c Tomcat 4.x, 
Oracle9iAS(Orion servlet container) и Resin 2.x
- протестирована и подтверждена работоспособновть сервера c Oracle8i и
HypersonicDB 1.7.x
- внесены изменения в лицензию на сервер. (см license.txt)


2002г. версия 2.0
- сервер полностью поддерживает концепцию MVC (model-view-controller)
- формирование страниц переведено на шаблонную схему
- для XSLT трансформации применяется единый шаблон. Раньше для каждого 
портлета надо было определять свой XSLT шаблон
- XSLT форматирование применяется ко всей странице
- сняты практически все технические ограничения по количеству портлетов 
одного типа на одной странице и языков. Возможно создание неограниченного 
количества меню, размещенных на одной странице


2001г. версия 1.х
- добавлены портлеты - форум, статья, меню, вакансии по работе
- представление информации в портлетах переведено на XML/XSLT технологию
- сделано разграничение между изменением содержимого контента и 
разработкой дизайна для представления этого контента
- добавлена система скидок для клиентов магазина.
- переработана система представления прайс-листа для поддержки 
размещения заказов.


2000г. версия 1.0 
- сервер переведен на плаформу JavaServerPage (JSP)
- полностью переписана система авторизации и аутенсификации пользователей.
- авторизация пользователей построена на ролевом принципе
- разграничение доступа к информации переведено на 3-ех уровневую систему
- система авторизации включена в проект ССПС разработанный на ВСЖД и 
успешно эксплуатируемый до настоящего момента(осень 2002 г.)
- поддержка на сайте новостной ленты
- добавлена поддерржка многоязычности 



1999г. версия 0.1 
- разработана на базе Oracle Application Server 4.x
- язык программирования oracle-PLSQL. 
- поддержка неограниченного количества прайс-листов 
- загрузка данных через веб
- поддержка мультивалютности прайс-листов
- конфигурация настроек через веб


