$Id$

Легенда:
x - реализовано
- - на данный момент реализация не целесообразна. 
+ - преобразовано в другую задачу
? - реализовано с ограничениями. Органичения поставлены отдельной задачей.


>>> Кроссплатформ
- [ ] при создании таблицы не учитывается значение поля по умолчанию
- [ ] модернизировать мембер менеджер для полной совместимости с HypersonicSQL
- [ ] добавить создание первичных и вторичных ключей в DBconnect
- [ ] протестировать создание FK на многостолбцовый PK
- [?] модуль работы с DDL (data definition language)
- [?] портировать на HypersonicSQL для демо версии
- [ ] решение для перехода между версиями, с точки зрения БД
- [x] кросс БД переносимость
- [-] переход на JDO Castor(надо?)
- [ ] импорт и экспорт данных сайта - статьи новости и другие данные портлетов
- [+] миграция системных данных - данные локализации и другие
- [+] миграция структуры из одной базы данных в другую



>>> Портлет репертуар
- [ ] ознакомиться с текущим состоянием сайтов кинотеатров


>>> Общие задачи
- [ ] после написания тест кейсов, протестировать работоспособность с 
Resin, Oracle AS
- [ ] добавить автоматическое тестирование - Cactus, jUnit для сервлетов
- [x] заменить использрвание локали en_US на en_GB 
- [x] портировать все jsp файлы в сервлеты
- [ ] разработать систему написания портлетов с использованием 
XML схемы для ускоренной разработки и перевести существующие портлеты на 
эту систему
- [+] написать аплет, управляющий мордой сайта
- [ ] возможность поддержки разных сайтов на одном коннекте HTTP сервера через
алиасы (надо?)
- [ ] сделать пункт меню admin_list (забыл зачем?), дать возможность админам
создавать свои роли
- [ ] разработка plug-in технологии для портлетов
- [ ] реализация скиновой технологии для сайтов


>>> Регистрация пользователей
- [ ] переделать отсылку из каталога товаров регистрационных данных 
с GET на POST


>>> Контекст навигатор
- [ ] переработать навигатор так, что сначала подготавливаются данные, 
создаются объекты всех портлетов, а затем только навигатор производит 
создание страницы. Как результат можно проверять флаги isHTML, isXML, 
обрабатывать ошибки трансормации из XML и выводить HTML.



>>> java библиотека
- [ ] сделать менеджер портлетов. Так же как это сделано в мембер.
имеется ввиду возможность хранения описаний портлетов в разных файлах
и проверку на изменение файла описаний. Переработать загрузку описаний 
портлетов так же, как это сделано в мембер имеется ввиду создание 
директория 'portlet' и возможность хранения описаний портлетов в разных 
директориях
- [ ] в методе setUserAuthRole идет привязка к сокращенному названию
фирмы, что чревато неправильной привязкой(может сделать уникальный индекс
 по названию фирмы?)
- [ ] подключить пользовательские директории с портлетам. Путь к 
портлетам передается через окружение (JNDI)
- [ ] подключить пользовательские директории с мембер модулями. Путь к 
мембер модулям передается через окружение (JNDI)
- [ ] переименовать 'Каталог' в 'Меню' в скриптах мембер ареа
- [x] перести мембер шаблон из PortalInfo в зависимость от языка. Т.е. для 
каждого языка указывать свой шаблон
- [ ] сделать механизм системных ролей, перевести уровни доступа на системные
роли (подумать а надо ли это? Подразумевается переход на простую модель ролей,
где уровень доступа определяется не через is_firm, is_service, is_road, а через
системные роли)


>>> Управление картинками
- [ ] Так как контекст /mill находится в папке не имеющей отношения к сайту
проработать вопрос куда будут записываться картинки, загружаемые через веб
- [ ] возможность привязки картинки к пункту меню
- [ ] добавить возможность переименования файлов
- [ ] перемещение из одной группы в другую
- [ ] протестировать загрузку картинок из URL (написано, но давно не 
тестировалось)



>>> Менеджер дизайна сайта
- [ ] возможность копирования дизайна  и разметки сайта из одного языка в
другой
- [ ] создание простейшего сайта простым нажатием кнопки - шаблоны, XSLT, 
простейший каталог( на главную, новости, одна-две статьи, логин, логаут )



>>> Портлет Каталоги товаров
- [ ] перенести скидку предоставляемую клиенту из конфигурации юзера в
отдельную таблицу - для каждого магазина у юзера своя скидка
- [x] изменить идеологию - в настоящий момент каждая корзинка привязана 
к тому магазину, где был сделан заказ. при смене магазина теряется предыдущий 
заказ. Сделать чтобы в корзинке могли находится все заказанные позиции
не зависимо от текущего магазина. Благодаря этому решается проблема
со спец предложениями
- [x] протестировать отсылку заказа
- [x] протестировать ручное редактирование прайс-листа. Выявлено не корректное 
сохранение цены(обрезается значение после запятой), картинки не сохраняются
- [x] добавить в разметку каталога товаров дату загрузки прайс-листа
- [ ] при выписке заказа отдельно показывать сумму заказа, сумму скидки и
конечную сумму
- [ ] при выписке инвойса cделать кнопку -> передача заказа в магазин, а там 
и отсылка и проведение платежа.
- [ ] таблица скидок для предприятий
- [ ] добавить возможность добавления атрибутов к группам товаров, хранения
значений атрибутов товаров
- [ ] справочник единиц измерений и их соотношений (вложимость) При 
фомировании скидок от объема использовать этот стравочник
- [ ] список регионов, где расположены клиенты. Значение вносит владелец сайта
- [ ] список фирм производителей. товар привязывается к фирме изготовителю
- [x] убрать в комбо боксе с валютами валюту по умолчанию и еще одну
вылезающую валюту
- [x] заменить надписи на английском языке на сообщеня с локалью
полям - по наименованию, по цене и по валюте
- [x] добавить инрефейс для изменения общей скидки по магазину. Поле в базе 
есть, в java классах тоже все есть, надо только изменить XML файл в мембер.
- [x] оптимизировать процедуру Shop.getShopID - делать запрос напрямую к базе
а не через getFirstValue
- [x] перенести указание точности из конфигурации магазина в конфигурацию валют
или сделать отдельную таблицу для конфигурации точности валют для каждого 
прайса в отдельности. Т.е. для каждой валюыт-магазин своя точность



>>> Мембер
- [ ] ошибка ORA-00904 при добавлении нового контекста(пункта меню) 
- [x] при удалении валюты выдется ошибка ORA-00904 (отсутствует столбец)
- [x] при удалении CSS выдется ошибка ORA-00904 (отсутствует столбец)
- [x] при удалении статьи выдется ошибка ORA-00904 (отсутствует столбец)
- [x] при удалении faq group выдется ошибка ORA-00904 (отсутствует столбец)
- [ ] в MemberProcessing заменить authuser на AUTH_USER и id_usr на ID_USER
- [ ] в XML разметке управляющей каталогом контекстов добавить выбор
конкретного контекста. сейчас просто поле ввода, а надо сомбобокс.
- [ ] сначала создал запись с контекстом, потом добавил новый шаблон, но в
меню не произошло замены описания шаблона на новый. Это типа баг
- [ ] при создании страницы индекса с xslt шаблонами для их редактирования, все
работает очень медленно и периодически отваливается. Оптимизировать 
создание страницы.
- [ ] возможность редактирования данных локализации напрямую с веб страниц для
рута. Т.е. рядом с каждой локализированной строкой сделать ссылку для перехода
на страницу с интерфейсов для изменения данных.
через построение селектов через класс.
- [ ] провести оптимизацию запросов - использовать код сайта, 
а не имя хоста в запросах мембер ареа.
- [ ] предоставить возможность юзеру самому редактировать данные по сайту
- [ ] мембер - добавление языков сайту самим юзером
- [ ] мембер - выбор мембер шаблона юзером
- [ ] XSLT форматирование мембер ареа
- [ ] стандартизация XML разметки для мембер модулей
- [ ] предоставление возможности редактирования сразу нескольких записей
в мембер ареа


>>> Мембер модули
- [ ] мембер - модуль "Загрузка данных о приходе товаров"
- [ ] мембер - модуль "генерация каталога изображений на основе прайса"
- [ ] мембер - модуль "обработка заказов"
- [ ] мембер - модуль рецензия
- [ ] мембер - модуль проценты
- [+] мембер - модуль "репертуар" - театры, кино, рестораны, дискотеки, радио, 
телевидение 
- [ ] дополнительные операции в мембер ареа - firm/firm -> привязка к
службе, дороге. Решается путем, как я делал для Эрдмана



>>> Портлет "Статья"
- [ ] сделать выборку статьи по коду - нужно для указания стаьи в шаблоне
- [ ] сделать стаью в HTML формате


>>> Портлет "Кадровое агентство"
- [ ] каждое резюме принадлежит к определенной группе.
- [ ] список кандидатур - каждая кандидатура имеет уровень доступа, 
каждое предприятие, клиент КА, имеет уровень доступа. 


>>> Портлет форум
- [ ] Plain forum - разбивка по месяцам
- [ ] Plain forum - дата последнего сообщения
- [ ] Plain forum - количество сообщений в треде
- [ ] разработать XML схему данных форума


>>> Портлет расчеты за услуги
- [ ] переделать систему расчетов с клиентами так, что бы учитывались платежи 
за каждую услугу в отдельности т.е. что бы можно было посмотреть баланс 
в разрезе услуг


>>> Новые портлеты
- [ ] портлет ArticleHTML
- [ ] портлет 'CRM'
- [ ] портлет 'Todo' (Имеет смысл делать после переноса на HypersonicSQL, т.к.
тогда можно будет таскать с собой файл hypersonica и соответственно поддерживать 
в актуальном состоянии todo-list)
- [ ] портлет 'vote'
- [ ] портлет "кросс курсы валют" где будет показываться 
текущие курсы пересчета


