<?xml version="1.0" encoding="utf-8"?>
<!--
  ~ org.riverock.portlet - Portlet Library
  ~
  ~ Copyright (C) 2006, Riverock Software, All Rights Reserved.
  ~
  ~ Riverock - The Open-source Java Development Community
  ~ http://www.riverock.org
  ~
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<MemberArea xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="c:\sandbox\riverock\riverock-portlet\src-schema\xsd\riverock-portlet-member.xsd" xmlns:portlet="http://java.sun.com/xml/ns/portlet/portlet-app_1_0.xsd">
	<Module name="article.plain.main" authApplication="CONTENT" authModule="CONTENT.ARTICLE_PLAIN" isDelete="1">
		<Content action="index">
			<security-role-ref>
				<role-name>webmill.article</role-name>
			</security-role-ref>
			<security-role-ref>
				<role-name>webmill.article-select</role-name>
			</security-role-ref>
			<Title isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Статьи</StringData>
			</Title>
			<QueryArea>
				<Restrict type="site"/>
				<PrimaryKey>ID_SITE_SUPPORT_LANGUAGE</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_SITE_SUPPORT_LANGUAGE" dbType="NUMBER" jspType="int_text" isShow="0">
					<NameColumn isUseProperties="0">
						<StringData>PK</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ID_SITE" dbType="NUMBER" jspType="int_text" isShow="0">
					<NameColumn isUseProperties="0">
						<StringData>PK</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="CUSTOM_LANGUAGE" dbType="VARCHAR" jspType="text" isShow="true" length="20">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Код локали</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="NAME_CUSTOM_LANGUAGE" dbType="VARCHAR" jspType="text" isShow="true" length="40">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Название языка</StringData>
					</NameColumn>
				</Fields>
				<Table table="WM_PORTAL_SITE_LANGUAGE" ref="a"/>
			</QueryArea>
			<TargetAreaName isUseProperties="1" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>index.jsp.action</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="1" storage="mill.locale.main">
					<StringData>page.main.3</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="lookup" module="article.plain.data">
				<TargetModuleName isUseProperties="0">
					<StringData>Статьи</StringData>
				</TargetModuleName>
				<TargetModuleLookup type="index"/>
				<TargetModuleLookup type="insert"/>
				<TargetModuleLookup type="change"/>
				<TargetModuleLookup type="delete"/>
			</TargetModule>
		</Content>
	</Module>
	<Module name="article.plain.data" authApplication="CONTENT" authModule="CONTENT.ARTICLE_PLAIN" isDelete="1" type="lookup" lookupPK="ID_SITE_SUPPORT_LANGUAGE">
		<RelateClass isFullReinitCache="0" className="org.riverock.portlet.article.ArticlePlain"/>
		<Content action="index">
			<security-role-ref>
				<role-name>webmill.article</role-name>
			</security-role-ref>
			<security-role-ref>
				<role-name>webmill.article-select</role-name>
			</security-role-ref>
			<Title isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Список новостей</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_SITE_CTX_ARTICLE</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_SITE_CTX_ARTICLE" dbType="NUMBER" jspType="int_text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>##</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="DATE_POST" dbType="DATE" jspType="date_text" isShow="true" mask="dd.MM.yyyy">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Дата создания</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ARTICLE_CODE" dbType="VARCHAR" jspType="text" isShow="true" length="30">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Код статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="NAME_ARTICLE" dbType="VARCHAR" jspType="text" isShow="true" length="50">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Название статьи</StringData>
					</NameColumn>
				</Fields>
				<Table table="WM_PORTLET_ARTICLE" ref="a"/>
				<Where>IS_PLAIN_HTML=1</Where>
				<Order field="DATE_POST" direction="DESC"/>
			</QueryArea>
			<TargetAreaName isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Дейстия</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0" storage="mill.locale.main">
					<StringData>Вернуться в начало раздела</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="insert">
				<TargetModuleName isUseProperties="1" storage="mill.locale.main">
					<StringData>button.add</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="change">
				<TargetModuleName isUseProperties="1" storage="mill.locale.main">
					<StringData>button.change</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="delete">
				<TargetModuleName isUseProperties="1" storage="mill.locale.main">
					<StringData>button.delete</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="insert">
			<security-role-ref>
				<role-name>webmill.article</role-name>
			</security-role-ref>
			<Title isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Добавление новости</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_SITE_CTX_ARTICLE</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_SITE_CTX_ARTICLE" dbType="NUMBER" jspType="int_text" isShow="0" isEdit="false"/>
				<Fields refTable="a" name="ARTICLE_CODE" dbType="VARCHAR" length="30" jspType="text" isShow="true" isEdit="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Код статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="NAME_ARTICLE" dbType="VARCHAR" length="50" jspType="text" isShow="true" isEdit="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Название статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_TRANSLATE_CR" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true" isEdit="true" isNotNull="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Преобразовать CR в HTML тэг</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_PLAIN_HTML" dbType="NUMBER" length="1" jspType="lookupClass" isShow="true" isEdit="true" isNotNull="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Статья в Plain формате</StringData>
					</NameColumn>
					<ClassQuery nameClass="org.riverock.portlet.member.ArticlePlainTemplateClassQuery" nameOptionName="type" xmlRoot="IsArticlePlain"/>
				</Fields>
				<Fields refTable="a" name="IS_SIMPLE_TEXT" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true" isEdit="true" isNotNull="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Восстанавливать оригинальный текст</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" jspType="bigtext" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Текст статьи</StringData>
					</NameColumn>
					<QueryArea>
						<PrimaryKey>ID_SITE_CTX_ARTICLE_DATA</PrimaryKey>
						<PrimaryKeyType>number</PrimaryKeyType>
						<MainRefTable>a</MainRefTable>
						<Fields refTable="a" name="ID_SITE_CTX_ARTICLE_DATA" dbType="NUMBER" jspType="int_text" isShow="0"/>
						<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" length="2000" jspType="text" isShow="1"/>
						<Table table="WM_PORTLET_ARTICLE_DATA" ref="a"/>
					</QueryArea>
				</Fields>
				<Table table="WM_PORTLET_ARTICLE" ref="a"/>
			</QueryArea>
			<ActionButtonName isUseProperties="true" storage="mill.locale.main">
				<StringData>button.add</StringData>
			</ActionButtonName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0" storage="mill.locale.main">
					<StringData>Вернуться в начало раздела</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="change">
			<security-role-ref>
				<role-name>webmill.article-change</role-name>
			</security-role-ref>
			<security-role-ref>
				<role-name>webmill.article</role-name>
			</security-role-ref>
			<Title isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Редактирование новости</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_SITE_CTX_ARTICLE</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_SITE_CTX_ARTICLE" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="ARTICLE_CODE" dbType="VARCHAR" length="30" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Код статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="NAME_ARTICLE" dbType="VARCHAR" length="50" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Название статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_TRANSLATE_CR" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true" isNotNull="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Преобразовать CR в HTML тэг</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_PLAIN_HTML" dbType="NUMBER" length="1" jspType="lookupClass" isShow="true" isEdit="false" isNotNull="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Статья в Plain формате</StringData>
					</NameColumn>
					<ClassQuery nameClass="org.riverock.portlet.member.ArticlePlainTemplateClassQuery" nameOptionName="type" xmlRoot="IsArticlePlain"/>
				</Fields>
				<Fields refTable="a" name="IS_SIMPLE_TEXT" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true" isNotNull="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Восстанавливать оригинальный текст</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" jspType="bigtext" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Текст статьи</StringData>
					</NameColumn>
					<QueryArea>
						<PrimaryKey>ID_SITE_CTX_ARTICLE_DATA</PrimaryKey>
						<PrimaryKeyType>number</PrimaryKeyType>
						<MainRefTable>a</MainRefTable>
						<Fields refTable="a" name="ID_SITE_CTX_ARTICLE_DATA" dbType="NUMBER" jspType="int_text" isShow="0"/>
						<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" length="2000" jspType="text" isShow="1"/>
						<Table table="WM_PORTLET_ARTICLE_DATA" ref="a"/>
					</QueryArea>
				</Fields>
				<Table table="WM_PORTLET_ARTICLE" ref="a"/>
				<Where>IS_PLAIN_HTML=1</Where>
			</QueryArea>
			<ActionButtonName isUseProperties="true" storage="mill.locale.main">
				<StringData>button.change</StringData>
			</ActionButtonName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0" storage="mill.locale.main">
					<StringData>Вернуться в начало раздела</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="delete">
			<security-role-ref>
				<role-name>webmill.article</role-name>
			</security-role-ref>
			<Title isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Удаление новости</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_SITE_CTX_ARTICLE</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_SITE_CTX_ARTICLE" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="ARTICLE_CODE" dbType="VARCHAR" length="30" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Код статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="NAME_ARTICLE" dbType="VARCHAR" length="50" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Название статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_TRANSLATE_CR" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Преобразовать CR в HTML тэг</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_PLAIN_HTML" dbType="NUMBER" length="1" jspType="lookupClass" isShow="true" isEdit="false">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Статья в Plain формате</StringData>
					</NameColumn>
					<ClassQuery nameClass="org.riverock.portlet.member.ArticlePlainTemplateClassQuery" nameOptionName="type" xmlRoot="IsArticlePlain"/>
				</Fields>
				<Fields refTable="a" name="IS_SIMPLE_TEXT" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Восстанавливать оригинальный текст</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" jspType="bigtext" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Текст статьи</StringData>
					</NameColumn>
					<QueryArea>
						<PrimaryKey>ID_SITE_CTX_ARTICLE_DATA</PrimaryKey>
						<PrimaryKeyType>number</PrimaryKeyType>
						<MainRefTable>a</MainRefTable>
						<Fields refTable="a" name="ID_SITE_CTX_ARTICLE_DATA" dbType="NUMBER" jspType="int_text" isShow="0"/>
						<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" length="2000" jspType="text" isShow="1"/>
						<Table table="WM_PORTLET_ARTICLE_DATA" ref="a"/>
					</QueryArea>
				</Fields>
				<Table table="WM_PORTLET_ARTICLE" ref="a"/>
				<Where>IS_PLAIN_HTML=1</Where>
			</QueryArea>
			<ActionButtonName isUseProperties="true" storage="mill.locale.main">
				<StringData>button.delete</StringData>
			</ActionButtonName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0" storage="mill.locale.main">
					<StringData>Вернуться в начало раздела</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
	</Module>
	<Module name="article.xml.main" authApplication="CONTENT" authModule="CONTENT.ARTICLE_XML" isDelete="1">
		<Content action="index">
			<security-role-ref>
				<role-name>webmill.article</role-name>
			</security-role-ref>
			<security-role-ref>
				<role-name>webmill.article-select</role-name>
			</security-role-ref>
			<Title isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Статьи</StringData>
			</Title>
			<QueryArea>
				<Restrict type="site"/>
				<PrimaryKey>ID_SITE_SUPPORT_LANGUAGE</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_SITE_SUPPORT_LANGUAGE" dbType="NUMBER" jspType="int_text" isShow="0">
					<NameColumn isUseProperties="0">
						<StringData>PK</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ID_SITE" dbType="NUMBER" jspType="int_text" isShow="0">
					<NameColumn isUseProperties="0">
						<StringData>PK</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="CUSTOM_LANGUAGE" dbType="VARCHAR" jspType="text" isShow="true" length="20">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Код локали</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="NAME_CUSTOM_LANGUAGE" dbType="VARCHAR" jspType="text" isShow="true" length="40">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Название языка</StringData>
					</NameColumn>
				</Fields>
				<Table table="WM_PORTAL_SITE_LANGUAGE" ref="a"/>
			</QueryArea>
			<TargetAreaName isUseProperties="1" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>index.jsp.action</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="1" storage="mill.locale.main">
					<StringData>page.main.3</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="lookup" module="article.xml.data">
				<TargetModuleName isUseProperties="0">
					<StringData>Статьи</StringData>
				</TargetModuleName>
				<TargetModuleLookup type="index"/>
				<TargetModuleLookup type="insert"/>
				<TargetModuleLookup type="change"/>
				<TargetModuleLookup type="delete"/>
			</TargetModule>
		</Content>
	</Module>
	<Module name="article.xml.data" authApplication="CONTENT" authModule="CONTENT.ARTICLE_XML" isDelete="1" type="lookup" lookupPK="ID_SITE_SUPPORT_LANGUAGE">
		<RelateClass isFullReinitCache="0" className="org.riverock.portlet.article.ArticleXml"/>
		<Content action="index">
			<security-role-ref>
				<role-name>webmill.article</role-name>
			</security-role-ref>
			<security-role-ref>
				<role-name>webmill.article-select</role-name>
			</security-role-ref>
			<Title isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Список новостей</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_SITE_CTX_ARTICLE</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_SITE_CTX_ARTICLE" dbType="NUMBER" jspType="int_text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>##</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="DATE_POST" dbType="DATE" jspType="date_text" isShow="true" mask="dd.MM.yyyy">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Дата создания</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ARTICLE_CODE" dbType="VARCHAR" jspType="text" isShow="true" length="30">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Код статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="NAME_ARTICLE" dbType="VARCHAR" jspType="text" isShow="true" length="50">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Название статьи</StringData>
					</NameColumn>
				</Fields>
				<Table table="WM_PORTLET_ARTICLE" ref="a"/>
				<Where>IS_PLAIN_HTML=0</Where>
				<Order field="DATE_POST" direction="DESC"/>
			</QueryArea>
			<TargetAreaName isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Дейстия</StringData>
			</TargetAreaName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0" storage="mill.locale.main">
					<StringData>Вернуться в начало раздела</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="insert">
				<TargetModuleName isUseProperties="1" storage="mill.locale.main">
					<StringData>button.add</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="change">
				<TargetModuleName isUseProperties="1" storage="mill.locale.main">
					<StringData>button.change</StringData>
				</TargetModuleName>
			</TargetModule>
			<TargetModule action="delete">
				<TargetModuleName isUseProperties="1" storage="mill.locale.main">
					<StringData>button.delete</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="insert">
			<security-role-ref>
				<role-name>webmill.article</role-name>
			</security-role-ref>
			<Title isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Добавление новости</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_SITE_CTX_ARTICLE</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_SITE_CTX_ARTICLE" dbType="NUMBER" jspType="int_text" isShow="0" isEdit="false"/>
				<Fields refTable="a" name="ARTICLE_CODE" dbType="VARCHAR" length="30" jspType="text" isShow="true" isEdit="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Код статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="NAME_ARTICLE" dbType="VARCHAR" length="50" jspType="text" isShow="true" isEdit="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Название статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_TRANSLATE_CR" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true" isEdit="true" isNotNull="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Преобразовать CR в HTML тэг</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_PLAIN_HTML" dbType="NUMBER" length="1" jspType="lookupClass" isShow="true" isEdit="true" isNotNull="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Статья в Plain формате</StringData>
					</NameColumn>
					<ClassQuery nameClass="org.riverock.portlet.member.ArticleXmlTemplateClassQuery" nameOptionName="type" xmlRoot="IsArticlePlain"/>
				</Fields>
				<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" jspType="bigtext" isShow="true" isEdit="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Текст статьи</StringData>
					</NameColumn>
					<QueryArea>
						<PrimaryKey>ID_SITE_CTX_ARTICLE_DATA</PrimaryKey>
						<PrimaryKeyType>number</PrimaryKeyType>
						<MainRefTable>a</MainRefTable>
						<Fields refTable="a" name="ID_SITE_CTX_ARTICLE_DATA" dbType="NUMBER" jspType="int_text" isShow="0"/>
						<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" length="2000" jspType="text" isShow="1"/>
						<Table table="WM_PORTLET_ARTICLE_DATA" ref="a"/>
					</QueryArea>
				</Fields>
				<Table table="WM_PORTLET_ARTICLE" ref="a"/>
			</QueryArea>
			<ActionButtonName isUseProperties="true" storage="mill.locale.main">
				<StringData>button.add</StringData>
			</ActionButtonName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0" storage="mill.locale.main">
					<StringData>Вернуться в начало раздела</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="change">
			<security-role-ref>
				<role-name>webmill.article-change</role-name>
			</security-role-ref>
			<security-role-ref>
				<role-name>webmill.article</role-name>
			</security-role-ref>
			<Title isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Редактирование новости</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_SITE_CTX_ARTICLE</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_SITE_CTX_ARTICLE" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="ARTICLE_CODE" dbType="VARCHAR" length="30" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Код статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="NAME_ARTICLE" dbType="VARCHAR" length="50" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Название статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_TRANSLATE_CR" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true" isNotNull="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Преобразовать CR в HTML тэг</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_PLAIN_HTML" dbType="NUMBER" length="1" jspType="lookupClass" isShow="true" isEdit="false" isNotNull="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Статья в Plain формате</StringData>
					</NameColumn>
					<ClassQuery nameClass="org.riverock.portlet.member.ArticleXmlTemplateClassQuery" nameOptionName="type" xmlRoot="IsArticlePlain"/>
				</Fields>
				<Fields refTable="a" name="IS_SIMPLE_TEXT" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true" isNotNull="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Восстанавливать оригинальный текст</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" jspType="bigtext" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Текст статьи</StringData>
					</NameColumn>
					<QueryArea>
						<PrimaryKey>ID_SITE_CTX_ARTICLE_DATA</PrimaryKey>
						<PrimaryKeyType>number</PrimaryKeyType>
						<MainRefTable>a</MainRefTable>
						<Fields refTable="a" name="ID_SITE_CTX_ARTICLE_DATA" dbType="NUMBER" jspType="int_text" isShow="0"/>
						<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" length="2000" jspType="text" isShow="1"/>
						<Table table="WM_PORTLET_ARTICLE_DATA" ref="a"/>
					</QueryArea>
				</Fields>
				<Table table="WM_PORTLET_ARTICLE" ref="a"/>
				<Where>IS_PLAIN_HTML=0</Where>
			</QueryArea>
			<ActionButtonName isUseProperties="true" storage="mill.locale.main">
				<StringData>button.change</StringData>
			</ActionButtonName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0" storage="mill.locale.main">
					<StringData>Вернуться в начало раздела</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
		<Content action="delete">
			<security-role-ref>
				<role-name>webmill.article</role-name>
			</security-role-ref>
			<Title isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
				<StringData>Удаление новости</StringData>
			</Title>
			<QueryArea>
				<PrimaryKey>ID_SITE_CTX_ARTICLE</PrimaryKey>
				<PrimaryKeyType>number</PrimaryKeyType>
				<MainRefTable>a</MainRefTable>
				<Fields refTable="a" name="ID_SITE_CTX_ARTICLE" dbType="NUMBER" jspType="int_text" isShow="0"/>
				<Fields refTable="a" name="ARTICLE_CODE" dbType="VARCHAR" length="30" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Код статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="NAME_ARTICLE" dbType="VARCHAR" length="50" jspType="text" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_LIST_NEWS">
						<StringData>Название статьи</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_TRANSLATE_CR" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Преобразовать CR в HTML тэг</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="IS_PLAIN_HTML" dbType="NUMBER" length="1" jspType="lookupClass" isShow="true" isEdit="false">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Статья в Plain формате</StringData>
					</NameColumn>
					<ClassQuery nameClass="org.riverock.portlet.member.ArticleXmlTemplateClassQuery" nameOptionName="type" xmlRoot="IsArticlePlain"/>
				</Fields>
				<Fields refTable="a" name="IS_SIMPLE_TEXT" dbType="NUMBER" length="1" jspType="yesno_switch" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.HAM_QSO_LOG">
						<StringData>Восстанавливать оригинальный текст</StringData>
					</NameColumn>
				</Fields>
				<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" jspType="bigtext" isShow="true">
					<NameColumn isUseProperties="0" storage="mill.locale.MAIN_USER_INFO">
						<StringData>Текст статьи</StringData>
					</NameColumn>
					<QueryArea>
						<PrimaryKey>ID_SITE_CTX_ARTICLE_DATA</PrimaryKey>
						<PrimaryKeyType>number</PrimaryKeyType>
						<MainRefTable>a</MainRefTable>
						<Fields refTable="a" name="ID_SITE_CTX_ARTICLE_DATA" dbType="NUMBER" jspType="int_text" isShow="0"/>
						<Fields refTable="a" name="ARTICLE_DATA" dbType="VARCHAR" length="2000" jspType="text" isShow="1"/>
						<Table table="WM_PORTLET_ARTICLE_DATA" ref="a"/>
					</QueryArea>
				</Fields>
				<Table table="WM_PORTLET_ARTICLE" ref="a"/>
				<Where>IS_PLAIN_HTML=0</Where>
			</QueryArea>
			<ActionButtonName isUseProperties="true" storage="mill.locale.main">
				<StringData>button.delete</StringData>
			</ActionButtonName>
			<TargetModule action="index">
				<TargetModuleName isUseProperties="0" storage="mill.locale.main">
					<StringData>Вернуться в начало раздела</StringData>
				</TargetModuleName>
			</TargetModule>
		</Content>
	</Module>
</MemberArea>
