<?xml version="1.0"?>
<!--
/*
 * Copyright (C) 2006, Riverock Software, All Rights Reserved.
 *
 * Riverock - The Open-source Java Development Community
 * http://www.riverock.org
 *
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
-->
<!--$Id$-->
<project name="riverock global macro file" basedir=".">
    <macrodef name="copy_jars_to_context">
        <attribute name="webmill-context"/>
        <sequential>
            <property name="webmill.lib-dir" value="@{webmill-context}/WEB-INF/lib"/>
            <delete file="${webmill.lib-dir}}/castor-*.jar"/>
            <copy file="../riverock-lib/lib/${castor.lib}" todir="${webmill.lib-dir}" overwrite="true"/>
            <copy file="../riverock-lib/lib/${riverock-webmill.lib}" todir="${webmill.lib-dir}" overwrite="true"/>
            <copy file="../riverock-lib/lib/${riverock-portlet.lib}" todir="${webmill.lib-dir}" overwrite="true"/>
            <copy file="../riverock-lib/lib/${riverock-generic.lib}" todir="${webmill.lib-dir}" overwrite="true"/>
            <copy file="../riverock-lib/lib/${riverock-common.lib}" todir="${webmill.lib-dir}" overwrite="true"/>
            <copy file="../riverock-lib/lib/${riverock-cache.lib}" todir="${webmill.lib-dir}" overwrite="true"/>
            <copy file="../riverock-lib/lib/${riverock-sso.lib}" todir="${webmill.lib-dir}" overwrite="true"/>
            <copy file="../riverock-lib/lib/${riverock-module.lib}" todir="${webmill.lib-dir}" overwrite="true"/>
            <copy file="../riverock-lib/lib/${riverock-interfaces.lib}" todir="${webmill.lib-dir}" overwrite="true"/>
            <copy file="../riverock-lib/lib/${riverock-forum.lib}" todir="${webmill.lib-dir}" overwrite="true"/>
        </sequential>
    </macrodef>

    <macrodef name="copy_resources">
        <attribute name="res-path"/>
        <attribute name="file-mask"/>
        <attribute name="src"/>
        <attribute name="dest"/>
        <sequential>
            <patternset id="resources.set">
                <include name="@{file-mask}"/>
            </patternset>
            <copy todir="@{dest}@{res-path}" overwrite="true">
                <fileset dir="@{src}@{res-path}">
                    <patternset refid="resources.set"/>
                </fileset>
            </copy>
        </sequential>
    </macrodef>
</project>
