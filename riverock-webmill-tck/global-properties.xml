<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ webmill-TCK - webtest based tests for jsr168 TCK
  ~
  ~ Copyright (C) 2006, Riverock Software, All Rights Reserved.
  ~
  ~ Riverock - The Open-source Java Development Community
  ~ http://www.riverock.org
  ~
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<project name="Webtest global properties file" basedir=".">
	<property name="portlet-error" value="unavailable"/>
	<property name="black-magic-number" value="0x14376"/>
	<property name="test-page-title" value="Portlets"/>
	<property name="webtest.proxy.host" value="localhost"/>
	<property name="webtest.proxy.port" value="3128"/>
	<property name="root.dir" value="."/>
	<property name="lib.dir-name" value="lib"/>
	<property name="lib.dir" value="${root.dir}/${lib.dir-name}"/>
	<property name="build.dir" value="${root.dir}/build"/>
	<property name="build-webtest.dir" value="${build.dir}/webtest"/>
	<property name="build-webtest-result.dir" value="${build-webtest.dir}/${portletName}"/>
	<property name="raquo-char" value="Â»"/>
	<property name="rowCountRegexp" value="${start-comment} '${portletName}-count-of-row-on-page'='(.*)' ${end-comment}"/>
	<property name="pageCountRegexp" value="${start-comment} '${portletName}-count-of-page'='(.*)' ${end-comment}"/>
	<taskdef file="${lib.dir}/taskdef/webtestTaskdefs.properties">
		<classpath>
			<fileset dir="${root.dir}">
				<include name="${lib.dir-name}/*.jar"/>
				<include name="${lib.dir-name}/base/*.jar"/>
				<include name="${lib.dir-name}/optional/*.jar"/>
				<include name="${lib.dir-name}/runtime/*.jar"/>
				<include name="${lib.dir-name}/ant-1.6.2/*.jar"/>
			</fileset>
			<pathelement path="${lib.dir}"/>
		</classpath>
	</taskdef>

	<target name="clean-prepare">
        <antcall target="clean"/>
        <antcall target="prepare"/>
	</target>

	<target name="clean">
		<delete includeEmptyDirs="true" failonerror="false">
			<fileset dir="${build-webtest-result.dir}">
				<include name="**"/>
			</fileset>
		</delete>
		<delete dir="${build-webtest-result.dir}" failonerror="false"/>
		<delete includeEmptyDirs="true" failonerror="false">
			<fileset dir="${build-webtest.dir}">
				<include name="**"/>
			</fileset>
		</delete>
		<delete dir="${build-webtest.dir}" failonerror="false"/>
		<delete dir="${build.dir}" failonerror="false"/>
	</target>

	<target name="prepare">
		<mkdir dir="${build.dir}"/>
		<mkdir dir="${build-webtest.dir}"/>
		<mkdir dir="${build-webtest-result.dir}"/>
	</target>
</project>
